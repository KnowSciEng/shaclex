@import io.circe._

@(result: Option[Json],
  schema: Option[String],
  availableSchemaFormats: List[String],
  currentSchemaFormat: String,
  availableSchemaEngines: List[String],
  currentSchemaEngine: String,
  currentTargetSchemaFormat: String,
  currentTargetSchemaEngine: String
)


<html lang="en">
@head("Schema conversions")
</head>
<body>
@navBar()
<div class="container">
<h1><a href="/">Shaclex</a>: Parse and convert Schema</h1>
<div id="resultDiv">@{if(result.isDefined){result.get.spaces2}}</div>
<form action="/api/schema/convert" method="get" id="convert">
  <fieldset>
      <legend>Source</legend>
      @selectSchemaFormat("convert",availableSchemaFormats,currentSchemaFormat)
      @selectSchemaEngine("convert", availableSchemaEngines,currentSchemaEngine)
  </fieldset>
    <fieldset>
        <legend>Target</legend>
        @selectTargetSchemaFormat("convert",availableSchemaFormats,currentTargetSchemaFormat)
        @selectTargetSchemaEngine("convert",availableSchemaEngines,currentTargetSchemaEngine)
    </fieldset>
  <fieldset>
    <label for="schema">Schema</label>
    <textarea id="schema" name="schema"
              placeholder="schema">@{schema.getOrElse("")}</textarea>
  </fieldset>
    <div class="submit">
      <button type="submit">Convert</button>
    </div>
</form>
</div>
</body>
@scripts("schema")
</html>
